<!DOCTYPE html>
<html lang="en" data-lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FWF ï¿½ Donate, Join & Create Impact</title>
  
  <!-- Mobile/Tablet Detection & Redirect -->
  <script>
    (function() {
      if (window.location.pathname.includes('/mobile')) return;
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      const isTablet = /(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(navigator.userAgent);
      if (isMobile || isTablet) {
        const currentPage = window.location.pathname.split('/').pop() || 'index.html';
        window.location.href = '/mobile/' + currentPage;
      }
    })();
  </script>

  <!-- Security Headers -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/images/logo.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/logo.png">
  <link rel="apple-touch-icon" href="assets/images/logo.png">
  <link rel="shortcut icon" href="assets/images/logo.png">

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;700;800&family=Mukta:wght@400;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>

  <style>
    :root{
      --primary:#6153ff; --accent:#22c55e; --deep:#0f172a; --brd:#e3e8f5;
      --pink:#ff416c; --pink2:#ff4757;
      --label:#6153ff; --chip:#f1f5ff; --chip-brd:#dbe3f7;
      --cta:#16a34a; --orange:#fb923c;

      /* donate form theme */
      --df-bg:#ffffff;
      --df-ring:#7c3aed;
      --df-ring-soft:#e9d5ff;
      --df-chip:#eef2ff;
      --df-chip-brd:#c7d2fe;
      --df-active:#6366f1;
      --df-active-2:#22c55e;
      --df-icon:#94a3b8;
    }

    html{scroll-behavior:smooth;background:
      radial-gradient(120vw 85vh at 65% 0,#e0e7ff 0%,#f8fafc 70%),
      linear-gradient(120deg,#f5f5fb 60%,#ece9fa 100%);}
    body{margin:0;font-family:'Plus Jakarta Sans',Montserrat,sans-serif;color:var(--deep);min-height:100vh;overflow-x:hidden;letter-spacing:.01em;padding-top:90px}
    *{box-sizing:border-box}
    a{color:inherit;text-decoration:none}

    /* HEADER */
    .header{position:fixed; inset:0 0 auto 0; height:78px; z-index:200; display:flex; align-items:center; justify-content:center; background:rgba(255,255,255,.78); backdrop-filter:blur(14px) saturate(140%); border-bottom:1px solid #dbe3f3; transition:height .22s, border-color .2s, box-shadow .2s, background .2s;}
    .header.scrolled{ height:64px; background:rgba(255,255,255,.88); box-shadow:0 10px 30px rgba(2,6,23,.06); border-bottom-color:#e6eaf4; }
    .H{max-width:1240px;width:100%;padding:0 18px;display:flex;align-items:center;gap:18px}
    .brand{display:inline-flex;align-items:center;gap:10px}
    .brand img{width:52px;height:52px;object-fit:contain;border-radius:14px}
    nav{margin-left:auto;display:flex;align-items:center;gap:14px}
    .navList{display:flex;align-items:center;gap:6px;margin:0;padding:0;list-style:none}
    .navList a{display:inline-flex;align-items:center;padding:10px 14px;border-radius:12px;font-weight:800;color:#0f172a;position:relative}
    .navList a:hover{background:rgba(15,23,42,.06)}
    .lang-switch{display:inline-flex;align-items:center;height:42px;border:1px solid #c7d0e4;border-radius:12px;overflow:hidden;background:#fff}
    .lang-switch button{border:0;background:transparent;padding:0 12px;height:100%;display:inline-flex;align-items:center;font-weight:900;letter-spacing:.08em;cursor:pointer;color:#475569}
    .lang-switch button.active{background:linear-gradient(90deg,#60a5fa22,#a78bfa22);color:#111827}
    .lang-sep{width:1px;background:#e2e8f0}
    .navToggle{display:none;height:42px;width:42px;border-radius:10px;border:1px solid #dbe3f3;background:#fff;cursor:pointer;align-items:center;justify-content:center;font-size:18px}
    @media (max-width:880px){
      .navToggle{display:inline-flex}
      .navList{display:none;position:absolute;left:0;right:0;top:78px;padding:10px 14px;background:rgba(255,255,255,.96);backdrop-filter:blur(10px);
        border-bottom:1px solid #e8edf7;box-shadow:0 14px 26px rgba(2,6,23,.07);flex-direction:column;gap:6px}
      .header.scrolled .navList{top:64px}
      .navList.open{display:flex}
      .lang-switch{display:none}
    }

    /* HERO */
    .mainHero{position:relative; z-index:0; color:#0f172a; min-height:72vh; display:flex; align-items:center; justify-content:center;
      background:
        radial-gradient(1200px 70% at 20% 10%, #a5b4fc33 0%, transparent 60%),
        radial-gradient(1000px 60% at 80% 0%, #22c55e22 0%, transparent 60%),
        linear-gradient(120deg,#f8fafc 55%, #eef2ff 100%); overflow:hidden; text-align:center;}
    .heroLayer.pattern{position:absolute; inset:0; z-index:0; background:
      linear-gradient(90deg,rgba(96,165,250,.08) 1px, transparent 1px) 0 0/28px 28px,
      linear-gradient(0deg, rgba(167,139,250,.08) 1px, transparent 1px) 0 0/28px 28px;
      mask:linear-gradient(to bottom, rgba(0,0,0,.75), rgba(0,0,0,.2)); pointer-events:none;}
    .heroLayer.vignette{position:absolute; inset:0; z-index:0; background:radial-gradient(120% 90% at 50% 0%, transparent 40%, rgba(15,23,42,.14) 100%); pointer-events:none;}
    .heroWrap{ z-index:1; width:100%; max-width:1240px; padding:40px 24px 34px; display:grid; grid-template-columns:1fr; gap:20px; place-items:center; }
    .heroLeft{ display:flex; flex-direction:column; gap:16px; max-width:900px; align-items:center; }
    .heroBadge{display:inline-flex;gap:10px;align-items:center;font-weight:900;letter-spacing:.02em;padding:8px 12px;border-radius:999px;background:linear-gradient(90deg,#e0e7ff,#dcfce7);border:1px solid #dbe3f3;color:#0f172a;box-shadow:0 8px 18px rgba(2,6,23,.06)}
    .heroBadge i{ color:#22c55e; }
    .heroTitle .titleText{
      font-size:clamp(36px,5.6vw,74px);
      font-family:Montserrat,'Plus Jakarta Sans',sans-serif;
      font-weight:900; line-height:1.05; letter-spacing:-.03em;
      background:linear-gradient(135deg,#0f172a 0%, #334155 35%, #22c55e 100%);
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
      text-shadow:0 10px 60px #22c55e22;
    }
    .heroTitle{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin:0}
    .heroDesc{ font-size:clamp(13px,1.5vw,17px); max-width:720px; margin:6px auto 16px; color:#1f2a44; font-weight:600; font-style:italic; letter-spacing:.01em; text-shadow:0 1px 12px rgba(34,197,94,.12);}
    
    /* Down Arrow */
    .downArrow{
      display:inline-flex; align-items:center; justify-content:center;
      width:52px; height:52px; border-radius:50%;
      background:linear-gradient(135deg, #6366f1, #22c55e);
      color:#fff; font-size:24px;
      box-shadow:0 8px 20px rgba(99,102,241,0.35);
      transition:transform .3s ease, box-shadow .3s ease, background .3s ease;
      margin-top:20px;
      animation:bounce 2s ease-in-out infinite;
    }
    .downArrow:hover{
      transform:translateY(4px) scale(1.08);
      box-shadow:0 12px 28px rgba(34,197,94,0.45);
      background:linear-gradient(135deg, #22c55e, #06b6d4);
    }
    @keyframes bounce{
      0%, 100%{transform:translateY(0)}
      50%{transform:translateY(-8px)}
    }

    .footer{margin:50px 0 38px;text-align:center;color:#6153ffd6;font-weight:900;font-size:1.1em}
    html[data-lang="hi"] body{font-family:'Noto Sans Devanagari','Mukta','Plus Jakarta Sans',system-ui,sans-serif}

    .tabsWrap{ position:sticky; top:74px; z-index:150; margin:-12px auto 18px; padding:4px 8px; backdrop-filter: blur(8px) saturate(140%); background:rgba(255,255,255,0.92); border:none; border-radius:16px; box-shadow:0 4px 18px rgba(59,130,246,0.08); max-width:700px; display:flex; justify-content:center;}
    .tabs{display:flex; gap:8px; flex-wrap:wrap; justify-content:center; width:100%}
    .tabBtn{appearance:none; border:none; background:#f3f6ff; color:#0f172a; font-weight:900; padding:10px 22px; border-radius:999px; cursor:pointer; letter-spacing:.02em; font-size:1.08rem; box-shadow:0 2px 8px rgba(59,130,246,0.07); transition:background .18s, color .18s, box-shadow .18s; outline:none}
    .tabBtn.active, .tabBtn:hover{ background:linear-gradient(90deg,#6366f1 60%,#22c55e 100%); color:#fff; box-shadow:0 6px 18px rgba(34,197,94,0.10) }

    .main-container{ max-width:1200px; margin:0 auto; padding: 0 18px }
    .section-header{ text-align:center; margin: 40px 0 36px }
    .main-title{ font-size:clamp(32px,6vw,60px); font-weight:900; background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4); background-size:300% 300%; -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; animation: gradientShift 8s ease infinite; margin-bottom:8px }
    .main-subtitle{ font-size:1.05rem; color:#475569; font-weight:700 }

    .featureSection{ position:relative; overflow:hidden; border-radius:32px; margin: 26px 0; padding: clamp(48px,6vw,84px) clamp(22px,3vw,44px); color:#fff }
    .featureSection .section-content{ display:grid; grid-template-columns: 1fr 1fr; gap: clamp(24px,4vw,64px); align-items:center }
    .featureSection .content-right{ display:flex; justify-content:center; align-items:center }
    .illustration{ width:min(400px,42vw); height:min(300px,32vw); background: rgba(255,255,255,0.12); border-radius:20px; display:flex; align-items:center; justify-content:center; backdrop-filter: blur(10px); border:1px solid rgba(255,255,255,0.22); position:relative; overflow:hidden }
    .illustration i{ font-size: clamp(72px,10vw,140px); color: rgba(255,255,255,0.9) }
    .section-title{ font-size: clamp(28px,4vw,44px); font-weight:900; margin:0 0 10px; line-height:1.15 }
    .section-description{ font-size: clamp(15px,1.4vw,18px); margin: 0 0 22px; line-height:1.65; font-weight:700 }
    .features-list{ list-style:none; margin:0 0 26px; padding:0 }
    .features-list li{ display:flex; align-items:center; gap:10px; margin:10px 0; font-weight:800 }
    .features-list i{ color:#86efac }
    .cta-button{ padding: 14px 22px; background: rgba(255,255,255,0.18); border: 2px solid rgba(255,255,255,0.35); border-radius: 999px; color: #fff; font-size: 1rem; font-weight: 900; cursor:pointer; transition:.2s; backdrop-filter: blur(10px); display:inline-flex; align-items:center; gap:10px }
    .cta-button:hover{ transform: translateY(-2px) scale(1.03); background: rgba(255,255,255,0.26) }
    .donate{ background:linear-gradient(135deg, var(--pink), var(--pink2)) }
    .rojgar{ background:linear-gradient(135deg, #667eea, #764ba2) }
    .volunteer{ background:linear-gradient(135deg, #56ab2f, #a8e6cf) }
    .csr{ background:linear-gradient(135deg, #8360c3, #2ebf91) }
    @media (max-width:980px){ .featureSection .section-content{ grid-template-columns:1fr } .content-right{ order:-1 } .tabsWrap{ top:66px } }

    /* ===== MODALS base ===== */
    .modal{ display:none; position:fixed; z-index:9999; inset:0; align-items:center; justify-content:center; background:rgba(15,23,42,.18); backdrop-filter:blur(4px); }
    .modalCard{ background:#fff; border-radius:18px; max-width:520px; width:96vw; padding:26px 22px; box-shadow:0 8px 40px #0f172a22; position:relative; }
    .modalClose{ position:absolute; top:14px; right:14px; background:none; border:none; font-size:1.5em; cursor:pointer; color:#475569; }

    /* ===== DONATE FORM (with requested tweaks) ===== */
    .df-title{ margin:0 0 6px; font-weight:900; text-align:center;
      background:linear-gradient(90deg,#7c3aed,#2563eb,#22c55e); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent;
      font-size:1.5rem;
    }
    .df-card{ background:var(--df-bg); border:1.5px solid var(--df-ring-soft); border-radius:14px; padding:12px; margin-bottom:14px; }

    /* Toggle (EVEN SMALLER now) */
    .df-toggle{ display:flex; align-items:center; justify-content:center; gap:8px; margin-bottom:20px; }
    .df-switch{
      position:relative; width:38px; height:18px;           /* << smaller */
      background:#e5e7eb; border-radius:999px; cursor:pointer;
      transition:.2s; border:1px solid #d1d5db;
    }
    .df-knob{ position:absolute; top:1px; left:1px; width:16px; height:16px; /* << smaller */
      border-radius:50%; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,.15);
      transition:left .2s;
    }
    .df-switch.active{ background:linear-gradient(90deg,#6366f1,#22c55e); border-color:#c7d2fe; }
    .df-switch.active .df-knob{ left:21px; }
    .df-tlabel{ font-weight:900; font-size:.85rem; padding:4px 8px; border-radius:10px; }
    .df-tlabel.active{ color:#111827; background:#eef2ff; border:1px solid #c7d2fe; }
    .df-tlabel.muted{ color:#6b7280; }

    /* Chips (smaller size now + centered) */
    .amount-chips{ display:flex; gap:10px; flex-wrap:wrap; margin:-2px 0 8px; justify-content:center; }
    .amount-chip{ padding:6px 10px; border-radius:999px; background:var(--df-chip); border:1px solid var(--df-chip-brd); cursor:pointer; font-weight:900; font-size:.85rem; transition:.15s; }
    .amount-chip.active{ background:linear-gradient(135deg,#6366f1,#8b5cf6); color:#fff; border-color:#6366f1; }
    .amount-chip:hover{ filter:brightness(0.98) }

    /* Floating labels (icons colorful when focus/filled) */
    .fl-group{ position:relative; margin-bottom:14px; }
    .fl-input{
      width:100%; border-radius:14px; border:2px solid #e7e9f6; background:#fff;
      font-size:1.02rem; padding:18px 16px 10px 46px; color:#0f172a; font-weight:700;
      transition:border-color .18s, box-shadow .18s, background .18s; outline:0;
    }
    .fl-input::placeholder{ color:transparent; }
    .fl-input:focus{ border-color:var(--df-ring); box-shadow:0 0 0 3px var(--df-ring-soft); }
    .fl-label{ position:absolute; left:42px; top:12px; font-weight:800; font-size:.9rem; color:#64748b; padding:0 6px; background:transparent; pointer-events:none; transition:.18s; border-radius:6px; }
    .fl-input:focus + .fl-label, .fl-input:not(:placeholder-shown) + .fl-label{ top:-9px; left:36px; font-size:.78rem; color:var(--df-ring); background:#fff; box-shadow:0 0 0 6px #fff inset; }
    .fl-icon{
      position:absolute; left:14px; top:50%; transform:translateY(-50%);
      color:var(--df-icon); font-size:1rem;
      transition:color .18s, -webkit-text-fill-color .18s, background .18s, background-clip .18s;
    }
    /* colorful gradient on focus / when filled */
    .fl-group.filled .fl-icon,
    .fl-input:focus ~ .fl-icon{
      color:transparent !important;
      background:linear-gradient(90deg,#22c55e,#06b6d4,#6366f1) !important;
      -webkit-background-clip:text !important; 
      background-clip:text !important;
      -webkit-text-fill-color:transparent !important;
    }
    .rupee-chip{ position:absolute; left:56px; top:50%; transform:translateY(-50%); font-weight:900; color:#64748b; }
    .fl-input.amount{ padding-left:100px; }
    .fl-input.amount + .fl-label{ left:84px; }

    /* Highlighter & button (unchanged from last good version) */
    #dfHigh{
      margin-top:10px; margin-bottom:14px;
      padding:10px 12px;border-radius:12px;border:1px solid #c7d2fe;
      background:linear-gradient(90deg,#ede9fe,#e0f2fe,#dcfce7);
      display:flex; align-items:center; justify-content:space-between; gap:8px;
      white-space:nowrap;
    }
    #dfHigh small{display:inline-block;font-weight:800;color:#374151}
    #dfHighText{display:inline-block;font-weight:900;color:#111827; margin-left:12px}

    .btn-primary{
      width:100%; padding:12px 0;
      background:linear-gradient(90deg,#7c3aed,#2563eb,#22c55e);
      color:#fff; font-weight:900; border:none; border-radius:12px; font-size:1.05em; cursor:pointer; transition:.18s;
      background-size:200% 100%;
    }
    .btn-primary:hover{ filter:brightness(1.05); transform:translateY(-1px); background-position:100% 0; }

    .subtle{ font-size:.82rem; color:#6b7280; margin:2px 2px 10px }
    .qrBox img{ width:220px; height:220px; border-radius:14px; background:#fff; box-shadow:0 6px 22px rgba(2,6,23,.10); cursor:pointer; transition:transform .18s, width .18s, height .18s, box-shadow .18s; }
    .qrBox img.zoomed{ width:320px; height:320px; box-shadow:0 10px 34px rgba(2,6,23,.20); }
  </style>
</head>
<body>

<header class="header" id="siteHeader">
  <div class="H">
    <a class="brand" href="/" aria-label="FWF Home">
      <img src="assets/images/logo.png" alt="FWF">
    </a>

    <nav style="flex:1;display:flex;justify-content:center;">
      <ul class="navList" id="navList" style="margin:0 auto;">
        <li><a href="/" data-i18n="nav.home">Home</a></li>
        <li><a href="/csr">CSR</a></li>
        <li><a href="/projects" data-i18n="nav.projects">Projects</a></li>
        <li><a href="/about" data-i18n="nav.about">About Us</a></li>
      </ul>
    </nav>

    <div class="langDesktop" style="margin-left:auto;">
      <div class="lang-switch" role="group" aria-label="Language switch">
        <button id="btn-hi" type="button">HI</button><div class="lang-sep"></div>
        <button id="btn-en" type="button" class="active">EN</button>
      </div>
    </div>

    <button class="navToggle" id="navToggle" aria-label="Open menu"><i class="fa-solid fa-bars"></i></button>
  </div>
</header>

<section class="mainHero" id="home">
  <div class="heroLayer pattern"></div>
  <div class="heroLayer vignette"></div>

  <div class="heroWrap">
    <div class="heroLeft">
      <div class="heroBadge"><i class="fa-solid fa-hand-holding-heart"></i><span data-i18n="hero.badge">Small gift. Big livelihood.</span></div>
      <h1 class="heroTitle"><span class="titleText" data-i18n="hero.title">You can be the reason a family smiles</span><span class="emoji" aria-hidden="true">??</span></h1>
      <p class="heroDesc" data-i18n="hero.desc">Your small contribution is a new ray of hope for the unemployed.</p>
      <a href="#involved" class="downArrow" aria-label="Scroll to involvement">
        <i class="fa-solid fa-chevron-down"></i>
      </a>
    </div>
  </div>
</section>

<main id="involved" class="main-container">
  <div class="section-header">
    <h1 class="main-title">Get Involved</h1>
    <p class="main-subtitle">Choose your path to make a meaningful impact</p>
  </div>

  <div class="tabsWrap" aria-label="Involved navigation">
    <div class="tabs">
      <button class="tabBtn active" data-target="#donate">Donate</button>
      <button class="tabBtn" data-target="#rojgar">Employment Wing</button>
      <button class="tabBtn" data-target="#volunteer">Volunteer</button>
      <button class="tabBtn" data-target="#csr">CSR Partner</button>
    </div>
  </div>

  <!-- Donate section -->
  <section class="featureSection donate" id="donate">
    <div class="section-content">
      <div class="content-left">
        <h2 class="section-title">Make a Donation</h2>
        <p class="section-description">Every ? you give helps train skills, fund real projects & open a livelihood door.</p>
        <ul class="features-list">
          <li><i class="fa-solid fa-check"></i> 80G receipt support</li>
          <li><i class="fa-solid fa-check"></i> Direct impact tracking</li>
          <li><i class="fa-solid fa-check"></i> UPI / Bank transfer</li>
        </ul>
        <a class="cta-button" href="#donateModal" id="openDonate2"><i class="fa-solid fa-heart"></i> Donate Now</a>
      </div>
      <div class="content-right"><div class="illustration"><i class="fa-solid fa-hand-holding-heart"></i></div></div>
    </div>
  </section>

  <!-- Membership -->
  <section class="featureSection rojgar" id="rojgar">
    <div class="section-content">
      <div class="content-left">
        <h2 class="section-title">Employment Program</h2>
        <p class="section-description">?200/month: training, projects, mentoring, job-connect.</p>
        <ul class="features-list">
          <li><i class="fa-solid fa-check"></i> Learn practical skills and earn with dignity</li>
          <li><i class="fa-solid fa-check"></i> Startup setup guidance</li>
          <li><i class="fa-solid fa-check"></i> Funding & co-investment help</li>
          <li><i class="fa-solid fa-check"></i> Community support</li>
        </ul>
        <button class="cta-button" id="openMember2"><i class="fa-solid fa-user-plus"></i> Join Now</button>
      </div>
      <div class="content-right"><div class="illustration"><i class="fa-solid fa-user-graduate"></i></div></div>
    </div>
  </section>

  <!-- Volunteer -->
  <section class="featureSection volunteer" id="volunteer">
    <div class="section-content">
      <div class="content-left">
        <h2 class="section-title">Volunteer Program</h2>
        <p class="section-description">Teach, mentor & help set up micro-business.</p>
        <ul class="features-list">
          <li><i class="fa-solid fa-check"></i> Help in planning and monitoring micro-projects.</li>
          <li><i class="fa-solid fa-check"></i> Teach real skills.</li>
          <li><i class="fa-solid fa-check"></i> Share your expertise in production, marketing, or finance.</li>
          <li><i class="fa-solid fa-check"></i> Join hands in FWFï¿½s ï¿½Skills to Livelihoodï¿½ mission</li>
        </ul>
        <button class="cta-button" id="openVolunteer2"><i class="fa-solid fa-hands-helping"></i> Sign Up</button>
      </div>
      <div class="content-right"><div class="illustration"><i class="fa-solid fa-people-group"></i></div></div>
    </div>
  </section>

  <!-- CSR -->
  <section class="featureSection csr" id="csr">
    <div class="section-content">
      <div class="content-left">
        <h2 class="section-title">CSR Partnership</h2>
        <p class="section-description">Projects, internships, hiring ?? CSR ?? sustainable impact.</p>
        <ul class="features-list">
          <li><i class="fa-solid fa-check"></i> CSR alignment</li>
          <li><i class="fa-solid fa-check"></i> Project outsourcing</li>
          <li><i class="fa-solid fa-check"></i> Direct placements</li>
        </ul>
        <button class="cta-button" id="openPartner2"><i class="fa-solid fa-building-user"></i> Partner</button>
      </div>
      <div class="content-right"><div class="illustration"><i class="fa-solid fa-city"></i></div></div>
    </div>
  </section>
</main>

<section class="footer">
  <div style="max-width: 1200px; margin: 0 auto; padding: 40px 20px; text-align: center;">
    <div style="border-top: 1px solid #e2e8f0; padding-top: 20px;">
      &copy; <span id="year"></span> FWF ï¿½ Built for creators, collaborators, and changemakers
      <div style="margin-top: 10px;">
        <a href="/privacy" style="color: #6153ff; text-decoration: none;">Privacy Policy</a> ï¿½ <a href="/terms" style="color: #6153ff; text-decoration: none;">Terms & Conditions</a>
      </div>
    </div>
  </div>
</section>

<!-- ===== Donation modal (UPDATED) ===== -->
<div id="donateModal" class="modal">
  <div class="modalCard">
    <button id="closeDonateModal" class="modalClose"><i class="fa fa-times"></i></button>

    <h2 class="df-title">Empower Livelihoods Today</h2>
    <p class="subtle" style="text-align:center;margin-top:6px">Join our donor family & help create jobs</p>

    <form id="donateForm" autocomplete="off" novalidate>
      <!-- toggle + chips in one card -->
      <div class="df-card">
        <div class="df-toggle">
          <span id="tOne" class="df-tlabel active">One-time</span>
          <div id="dfSwitch" class="df-switch" role="switch" aria-checked="false">
            <div class="df-knob"></div>
          </div>
          <span id="tMon" class="df-tlabel muted">Monthly</span>
        </div>

        <div class="amount-chips" id="amountChips">
          <button type="button" class="amount-chip" data-amount="51">?51</button>
          <button type="button" class="amount-chip" data-amount="101">?101</button>
          <button type="button" class="amount-chip" data-amount="501">?501</button>
          <button type="button" class="amount-chip" data-custom="true">Other Amount</button>
        </div>

        <!-- hidden custom amount -->
        <div id="otherAmountWrap" class="fl-group" style="display:none;">
          <i class="fl-icon fa-solid fa-indian-rupee-sign"></i>
          <span class="rupee-chip">?</span>
          <input class="fl-input amount" type="number" min="1" step="1" name="amount" placeholder=" " />
          <label class="fl-label">Enter Amount</label>
          <i class="fl-icon" style="display:none"></i>
        </div>
      </div>

      <!-- details -->
      <div class="fl-group">
        <i class="fl-icon fa-regular fa-user"></i>
        <input class="fl-input" name="name" placeholder=" " required />
        <label class="fl-label">Full Name</label>
      </div>

      <div class="fl-group">
        <i class="fl-icon fa-solid fa-mobile-screen-button"></i>
        <input class="fl-input" name="mobile" placeholder=" " pattern="[0-9]{10}" maxlength="10" required />
        <label class="fl-label">Mobile No</label>
      </div>

      <div class="fl-group">
        <i class="fl-icon fa-regular fa-envelope"></i>
        <input class="fl-input" type="email" name="email" placeholder=" " required />
        <label class="fl-label">Email</label>
      </div>

      <!-- 80G checkbox -->
      <label class="subtle" style="display:flex;gap:10px;align-items:flex-start;margin-top:4px;">
        <input type="checkbox" id="want80g" style="margin-top:4px">
        <span style="font-weight:700;">Send me 80G receipt for tax rebate.</span>
      </label>
      <div class="fl-group" id="panGroup" style="display:none;">
        <i class="fl-icon fa-regular fa-id-card"></i>
        <input class="fl-input" name="pan" placeholder=" " maxlength="10" />
        <label class="fl-label">PAN Number</label>
      </div>

      <!-- updates -->
      <label class="subtle" style="display:flex;gap:10px;align-items:flex-start;">
        <input type="checkbox" id="allowComm" checked style="margin-top:4px">
        <span style="font-weight:700;">Yes, keep me updated by phone, SMS and WhatsApp.</span>
      </label>

      <p class="subtle" style="margin-top:6px">All donations are non-refundable and used for welfare programs.</p>

      <!-- Highlighter just above the button -->
      <div id="dfHigh" style="display:none;">
        <small>You're contributing</small>
        <span id="dfHighText">?0</span>
      </div>

      <button type="submit" class="btn-primary" id="donateSubmit">Join the FWF Donor Family</button>
    </form>
  </div>
</div>

<!-- Membership modal (NEW DESIGN) -->
<div id="memberModal" class="modal">
  <div class="modalCard">
    <button class="modalClose" id="closeMember"><i class="fa fa-times"></i></button>
    
    <h2 class="df-title">Join FWF Membership</h2>
    <p class="subtle" style="text-align:center;margin-top:6px">Training, projects, mentoring & job-connect</p>
    
    <form id="memberForm" autocomplete="off" novalidate>
      <div class="fl-group">
        <i class="fl-icon fa-regular fa-user"></i>
        <input class="fl-input" name="name" placeholder=" " required>
        <label class="fl-label">Full Name</label>
      </div>
      
      <div class="fl-group">
        <i class="fl-icon fa-solid fa-mobile-screen-button"></i>
        <input class="fl-input" name="mobile" placeholder=" " pattern="[0-9]{10}" maxlength="10" required>
        <label class="fl-label">Mobile Number</label>
      </div>
      
      <div class="fl-group">
        <i class="fl-icon fa-regular fa-envelope"></i>
        <input class="fl-input" type="email" name="email" placeholder=" " required>
        <label class="fl-label">Email Address</label>
      </div>
      
      <div class="fl-group">
        <i class="fl-icon fa-regular fa-id-card"></i>
        <input class="fl-input" name="aadhar" placeholder=" " pattern="[0-9]{12}" maxlength="12" required>
        <label class="fl-label">Aadhar Number</label>
      </div>

      <p class="subtle" style="margin-top:10px">
        <i class="fa-solid fa-shield-halved" style="color:#22c55e"></i>
        Your information is secure and will be used only for membership verification.
      </p>

      <div id="memberHighlight" style="display:flex; align-items:center; justify-content:space-between; padding:12px 16px; margin:16px 0; border-radius:12px; background:linear-gradient(90deg,#ede9fe,#e0f2fe,#dcfce7); border:1px solid #c7d2fe;">
        <small style="font-weight:800;color:#374151">Membership Fee:</small>
        <span style="font-weight:900;color:#111827;font-size:1.1em">?200/month</span>
      </div>

      <button type="submit" class="btn-primary" id="memberSubmit">
        <i class="fa-solid fa-arrow-right"></i> Proceed to Payment
      </button>
    </form>
  </div>
</div>

<!-- Volunteer (unchanged) -->
<div id="volModal" class="modal">
  <div class="modalCard">
    <button class="modalClose" id="closeVol"><i class="fa fa-times"></i></button>
    <h2 style="margin:0 0 8px">Volunteer Sign Up</h2>
    <p class="subtle">Tell us how youï¿½d like to help</p>
    <form id="volForm" autocomplete="off" novalidate>
      <div class="fl-group"><i class="fl-icon fa-regular fa-user"></i><input class="fl-input" name="name" placeholder=" " required><label class="fl-label">Full Name</label></div>
      <div class="fl-group"><i class="fl-icon fa-solid fa-mobile-screen-button"></i><input class="fl-input" name="mobile" placeholder=" " pattern="[0-9]{10}" maxlength="10" required><label class="fl-label">Phone</label></div>
      <div class="fl-group"><i class="fl-icon fa-regular fa-envelope"></i><input class="fl-input" type="email" name="email" placeholder=" " required><label class="fl-label">Email</label></div>
      <div class="fl-group"><i class="fl-icon fa-solid fa-diagram-project"></i>
        <select class="fl-input" name="project" required style="padding-left:48px;">
          <option value="" hidden selected></option>
          <option>Teaching</option><option>Mentoring</option><option>Admin/Operations</option>
          <option>Social Media</option><option>Fundraising</option><option>Other</option>
        </select>
        <label class="fl-label">Choose Project</label>
      </div>
      <div class="fl-group"><i class="fl-icon fa-regular fa-message"></i><textarea class="fl-input" name="message" placeholder=" " rows="4" style="height:120px; padding-top:18px;"></textarea><label class="fl-label">How would you like to help?</label></div>
      <button class="btn-primary" type="submit">Submit</button>
    </form>
  </div>
</div>

<!-- CSR (unchanged) -->
<div id="partnerModal" class="modal">
  <div class="modalCard">
    <button class="modalClose" id="closePartner"><i class="fa fa-times"></i></button>
    <h2 style="margin:0 0 8px">CSR Partnership</h2>
    <p class="subtle">Projects, internships, hiring or CSR programs</p>
    <form id="partnerForm" autocomplete="off" novalidate>
      <div class="fl-group"><i class="fl-icon fa-solid fa-building"></i><input class="fl-input" name="company" placeholder=" " required><label class="fl-label">Company / Org</label></div>
      <div class="fl-group"><i class="fl-icon fa-regular fa-user"></i><input class="fl-input" name="contact" placeholder=" " required><label class="fl-label">Contact Person</label></div>
      <div class="fl-group"><i class="fl-icon fa-solid fa-mobile-screen-button"></i><input class="fl-input" name="mobile" placeholder=" " pattern="[0-9]{10}" maxlength="10" required><label class="fl-label">Phone</label></div>
      <div class="fl-group"><i class="fl-icon fa-regular fa-envelope"></i><input class="fl-input" type="email" name="email" placeholder=" " required><label class="fl-label">Email</label></div>
      <div class="fl-group"><i class="fl-icon fa-solid fa-message"></i><input class="fl-input" name="message" placeholder=" "><label class="fl-label">Message / Need</label></div>
      <button class="btn-primary" type="submit">Support our Mission</button>
    </form>
  </div>
</div>

<script>
  document.getElementById('year').textContent = new Date().getFullYear();
  const header = document.getElementById('siteHeader');
  const onScroll = () => header.classList.toggle('scrolled', window.scrollY > 6);
  window.addEventListener('scroll', onScroll); onScroll();

  const navToggle = document.getElementById('navToggle'), navList = document.getElementById('navList');
  if(navToggle) navToggle.addEventListener('click', () => navList.classList.toggle('open'));

  const dict={en:{"nav.home":"Home","nav.projects":"Projects","nav.about":"About Us","hero.badge":"Small gift. Big livelihood.","hero.title":"You can be the reason a family smiles","hero.desc":"Your small contribution is a new ray of hope for the unemployed."},hi:{"nav.home":"???","nav.projects":"???????????","nav.about":"????? ???? ???","hero.badge":"???? ??????, ???? ???????","hero.title":"?? ???? ?????? ?? ??????? ?? ??? ?? ???? ???","hero.desc":"???? ???? ?? ????? ??????????? ?? ??? ?? ?????? ???"}};
  function applyLang(lang){document.documentElement.setAttribute('data-lang',lang==='hi'?'hi':'en');document.querySelectorAll('[data-i18n]').forEach(el=>{const k=el.getAttribute('data-i18n');if(dict[lang]&&dict[lang][k]) el.textContent=dict[lang][k];});const enBtn=document.getElementById('btn-en'),hiBtn=document.getElementById('btn-hi');if(enBtn) enBtn.classList.toggle('active',lang==='en');if(hiBtn) hiBtn.classList.toggle('active',lang==='hi');}
  const enBtn=document.getElementById('btn-en'), hiBtn=document.getElementById('btn-hi');
  if(enBtn) enBtn.addEventListener('click', ()=>applyLang('en'));
  if(hiBtn) hiBtn.addEventListener('click', ()=>applyLang('hi'));
  applyLang('en');

  const tabBtns = document.querySelectorAll('.tabBtn');
  function setActive(btn){ tabBtns.forEach(b=>b.classList.toggle('active', b===btn)); }
  tabBtns.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const target = document.querySelector(btn.dataset.target);
      if(target){ setActive(btn); const y = target.getBoundingClientRect().top + window.pageYOffset - 90; window.scrollTo({ top: y, behavior:'smooth' }); }
    });
  });

  const sections = ['#donate','#rojgar','#volunteer','#csr'].map(s=>document.querySelector(s));
  const spy = new IntersectionObserver((entries)=>{ entries.forEach(entry=>{ if(entry.isIntersecting){ const id = '#'+entry.target.id; tabBtns.forEach(b=> b.classList.toggle('active', b.dataset.target===id)); } }); }, { rootMargin:'-55% 0px -40% 0px', threshold:0 });
  sections.forEach(s=>s && spy.observe(s));

  function openModal(el){ el.style.display='flex'; }
  function closeModal(el){ el.style.display='none'; }
  function resetForm(form){ if(form) form.reset(); }

  /* ===== DONATION logic ===== */
  const donateModal=document.getElementById('donateModal');
  document.getElementById('openDonate2').addEventListener('click', ()=>{ resetDonate(); openModal(donateModal); });
  document.getElementById('closeDonateModal').addEventListener('click', ()=>{ closeModal(donateModal); resetDonate(); });
  donateModal.addEventListener('click', (e)=>{ if(e.target===donateModal){ closeModal(donateModal); resetDonate(); }});

  const donateForm=document.getElementById('donateForm');
  const dfSwitch=document.getElementById('dfSwitch');
  const tOne=document.getElementById('tOne');
  const tMon=document.getElementById('tMon');
  const chips=document.getElementById('amountChips');
  const otherWrap=document.getElementById('otherAmountWrap');
  const highWrap=document.getElementById('dfHigh');
  const highText=document.getElementById('dfHighText');
  const amountInput=document.querySelector('input[name="amount"]');

  let interval='monthly'; // or 'onetime' - DEFAULT TO MONTHLY
  let selectedAmount=51; // DEFAULT AMOUNT

  function setToggleUI(){
    const monthly = (interval==='monthly');
    dfSwitch.classList.toggle('active', monthly);
    tMon.classList.toggle('active', monthly);
    tMon.classList.toggle('muted', !monthly);
    tOne.classList.toggle('active', !monthly);
    tOne.classList.toggle('muted', monthly);
    updateHighlighter();
  }
  
  // Initialize default state on page load
  function initializeDefaults(){
    setToggleUI();
    // Select the ?51 chip by default
    const chip51 = chips.querySelector('[data-amount="51"]');
    if(chip51){
      chip51.classList.add('active');
    }
    updateHighlighter();
  }
  
  // Call initialization after DOM is ready
  setTimeout(initializeDefaults, 0);

  dfSwitch.addEventListener('click', ()=>{
    interval = (interval==='onetime') ? 'monthly' : 'onetime';
    setToggleUI();
  });
  tOne.addEventListener('click', ()=>{ interval='onetime'; setToggleUI(); });
  tMon.addEventListener('click', ()=>{ interval='monthly'; setToggleUI(); });

  // chips & custom amount
  chips.addEventListener('click', (e)=>{
    const btn = e.target.closest('.amount-chip');
    if(!btn) return;
    chips.querySelectorAll('.amount-chip').forEach(b=>b.classList.remove('active'));

    if(btn.dataset.custom){
      otherWrap.style.display='block';
      btn.classList.add('active');
      selectedAmount = null;
      amountInput.value = '';
      otherWrap.classList.remove('filled');
      amountInput.focus();
      updateHighlighter();
    }else{
      otherWrap.style.display='none';
      selectedAmount = parseInt(btn.dataset.amount,10);
      btn.classList.add('active');
      updateHighlighter();
    }
  });

  // live update when typing in custom amount
  amountInput.addEventListener('input', ()=>{
    const wrap = amountInput.closest('.fl-group');
    wrap.classList.toggle('filled', amountInput.value.trim().length>0);
    updateHighlighter();
  });

  function updateHighlighter(){
    const inputAmtStr = amountInput.value;
    const inputAmt = inputAmtStr ? parseInt(inputAmtStr,10) : 0;
    const amt = selectedAmount || inputAmt;
    if(amt>0){
      highWrap.style.display='flex';
      highText.textContent = '?'+amt + (interval==='monthly' ? ' monthly' : '');
    }else{
      highWrap.style.display='none';
    }
  }

  // icon color on filled for all inputs
  document.querySelectorAll('#donateForm .fl-input').forEach(inp=>{
    const wrap = inp.closest('.fl-group');
    const set = ()=> {
      const hasValue = inp.value.trim().length > 0;
      wrap.classList.toggle('filled', hasValue);
    };
    ['input','change','blur','focus'].forEach(ev=> inp.addEventListener(ev,set));
    // Initial check on page load
    set();
  });

  // 80G PAN reveal
  document.getElementById('want80g').addEventListener('change', (e)=>{
    const panGroup = document.getElementById('panGroup');
    panGroup.style.display = e.target.checked ? 'block' : 'none';
    const panInput = panGroup.querySelector('input');
    panInput.required = e.target.checked;
    if(!e.target.checked){ panInput.value=''; panGroup.classList.remove('filled'); }
  });

  function resetDonate(){
    donateForm.reset();
    interval='monthly'; selectedAmount=51; // RESET TO DEFAULTS
    setToggleUI();
    chips.querySelectorAll('.amount-chip').forEach(b=>b.classList.remove('active'));
    // Select ?51 chip by default
    const chip51 = chips.querySelector('[data-amount="51"]');
    if(chip51){
      chip51.classList.add('active');
    }
    otherWrap.style.display='none';
    document.querySelectorAll('#donateForm .fl-group').forEach(g=>g.classList.remove('filled'));
    updateHighlighter(); // Show highlighter with default amount
  }

  // Redirect to (placeholder) payment page on submit
  donateForm.addEventListener('submit', (e)=>{
    e.preventDefault();

    const inputAmt = amountInput.value;
    const amount = selectedAmount || parseInt(inputAmt || '0',10);

    if(!(amount>0)){ alert('Please select or enter a valid amount.'); return; }
    if(!donateForm.checkValidity()){ donateForm.reportValidity(); return; }

    const name = encodeURIComponent(donateForm.name.value.trim());
    const mobile = encodeURIComponent(donateForm.mobile.value.trim());
    const email = encodeURIComponent(donateForm.email.value.trim());
    const pan = encodeURIComponent((donateForm.pan?.value || '').trim());
    const eighty = document.getElementById('want80g').checked ? '1':'0';
    const comms = document.getElementById('allowComm').checked ? '1':'0';

    // FOR LOCALHOST: use test payment gateway
    // FOR PRODUCTION: replace with actual payment gateway
    const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
    const gatewayUrl = isLocalhost 
      ? '/test-payment.html'
      : 'https://payments.example.com/checkout';
    
    const qs = `?amount=${amount}&interval=${interval}&type=donation&name=${name}&mobile=${mobile}&email=${email}&pan=${pan}&need80g=${eighty}&updates=${comms}&callback=${encodeURIComponent(window.location.origin + '/donation-success.html')}`;
    window.location.href = gatewayUrl + qs;
  });

  /* ===== MEMBER MODAL (NEW LOGIC) ===== */
  const memberModal=document.getElementById('memberModal');
  const memberForm=document.getElementById('memberForm');
  
  // Open member modal
  document.getElementById('openMember2').addEventListener('click', ()=>{ 
    if(memberForm) {
      memberForm.reset(); 
      document.querySelectorAll('#memberForm .fl-group').forEach(g=>g.classList.remove('filled'));
    }
    memberModal.style.display='flex'; 
  });
  
  // Close member modal
  document.getElementById('closeMember').addEventListener('click', ()=> memberModal.style.display='none');
  memberModal.addEventListener('click', (e)=>{ if(e.target===memberModal) memberModal.style.display='none'; });
  
  // Icon color on filled for member form inputs
  document.querySelectorAll('#memberForm .fl-input').forEach(inp=>{
    const wrap = inp.closest('.fl-group');
    const set = ()=> {
      const hasValue = inp.value.trim().length > 0;
      wrap.classList.toggle('filled', hasValue);
    };
    ['input','change','blur','focus'].forEach(ev=> inp.addEventListener(ev,set));
    set();
  });
  
  // Member form submission - redirect to payment gateway
  memberForm?.addEventListener('submit', async (e)=>{ 
    e.preventDefault(); 
    
    if(!memberForm.checkValidity()){ 
      memberForm.reportValidity(); 
      return; 
    }
    
    const formData = {
      name: memberForm.name.value.trim(),
      mobile: memberForm.mobile.value.trim(),
      email: memberForm.email.value.trim(),
      aadhar: memberForm.aadhar.value.trim()
    };
    
    // Store member data temporarily in localStorage (will be used after payment success)
    localStorage.setItem('pendingMember', JSON.stringify(formData));
    
    // Prepare payment gateway redirect
    const name = encodeURIComponent(formData.name);
    const mobile = encodeURIComponent(formData.mobile);
    const email = encodeURIComponent(formData.email);
    const amount = 200; // Monthly membership fee
    
    // Payment gateway URL - using test-payment.html for testing (both local and online)
    // TODO: Replace with actual payment gateway (Razorpay, PayU, etc.) when ready for production
    const gatewayUrl = window.location.origin + '/test-payment.html';
    
    const qs = `?amount=${amount}&type=membership&name=${name}&mobile=${mobile}&email=${email}&callback=${encodeURIComponent(window.location.origin + '/payment-success.html')}`;
    
    // Redirect to payment gateway
    window.location.href = gatewayUrl + qs;
  });

  const volModal=document.getElementById('volModal');
  document.getElementById('openVolunteer2').addEventListener('click', ()=>{ document.getElementById('volForm')?.reset(); volModal.style.display='flex'; });
  document.getElementById('closeVol').addEventListener('click', ()=> volModal.style.display='none');
  volModal.addEventListener('click', (e)=>{ if(e.target===volModal) volModal.style.display='none'; });

  const partnerModal=document.getElementById('partnerModal');
  document.getElementById('openPartner2').addEventListener('click', ()=>{ document.getElementById('partnerForm')?.reset(); partnerModal.style.display='flex'; });
  document.getElementById('closePartner').addEventListener('click', ()=> partnerModal.style.display='none');
  partnerModal.addEventListener('click', (e)=>{ if(e.target===partnerModal) partnerModal.style.display='none'; });
</script>
<!-- Fundraiser Contest Widget - Add this before </body> tag in all pages -->
<style>
.fundraiser-float-btn {
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 9999;
  background: #fff;
  color: #22c55e;
  border: 3px solid #22c55e;
  border-radius: 50%;
  width: 70px;
  height: 70px;
  font-size: 32px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(34, 197, 94, 0.15), 0 0 0 0 rgba(34, 197, 94, 0.2);
  transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  display: flex;
  align-items: center;
  justify-content: center;
  animation: float-pulse 3s ease-in-out infinite;
}
.fundraiser-float-btn::before {
  content: '';
  position: absolute;
  top: -5px;
  left: -5px;
  right: -5px;
  bottom: -5px;
  background: linear-gradient(135deg, #bbf7d0, #22c55e);
  border-radius: 50%;
  z-index: -1;
  opacity: 0;
  transition: opacity 0.4s ease;
  animation: ring-pulse 2s infinite;
}
.fundraiser-float-btn:hover {
  transform: translateY(-6px) scale(1.15);
  box-shadow: 0 12px 40px rgba(34, 197, 94, 0.25), 0 0 0 8px rgba(34, 197, 94, 0.12);
  background: #bbf7d0;
  color: #22c55e;
  border-color: #16a34a;
}
.fundraiser-float-btn:hover::before { opacity: 0.3; }
.fundraiser-float-btn .icon {
  animation: icon-bounce 2s infinite;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}
@keyframes float-pulse {
  0%, 100% { transform: translateY(0); box-shadow: 0 8px 24px rgba(34, 197, 94, 0.15), 0 0 0 0 rgba(34, 197, 94, 0.2); }
  50% { transform: translateY(-8px); box-shadow: 0 12px 32px rgba(34, 197, 94, 0.25), 0 0 0 12px rgba(34, 197, 94, 0.12); }
}
@keyframes ring-pulse {
  0%, 100% { transform: scale(1); opacity: 0; }
  50% { transform: scale(1.2); opacity: 0.3; background: linear-gradient(135deg, #bbf7d0, #22c55e); }
}
@keyframes icon-bounce {
  0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
  25% { transform: translateY(-4px) rotate(-8deg) scale(1.05); }
  50% { transform: translateY(0) rotate(0deg) scale(1); }
  75% { transform: translateY(-4px) rotate(8deg) scale(1.05); }
}
.contest-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.75); z-index: 10000; align-items: center; justify-content: center; padding: 20px; overflow-y: auto; }
.contest-modal.active { display: flex; }
.contest-content { background: linear-gradient(135deg, #fff7ed 0%, #fef3c7 50%, #fef3c7 100%); border-radius: 24px; max-width: 580px; width: 100%; padding: 40px; position: relative; box-shadow: 0 20px 60px rgba(245, 158, 11, 0.4); max-height: 90vh; overflow-y: auto; scrollbar-width: none; -ms-overflow-style: none; border: 3px solid #fbbf24; }
.contest-content::-webkit-scrollbar { display: none; }
.contest-close { position: absolute; top: 16px; right: 16px; background: #f3f4f6; border: none; width: 36px; height: 36px; border-radius: 50%; cursor: pointer; font-size: 20px; color: #6b7280; transition: all 0.2s; }
.contest-close:hover { background: #e5e7eb; color: #111827; }
.contest-header { text-align: center; margin-bottom: 24px; }
.contest-header h2 { font-size: 28px; font-weight: 800; color: #111827; margin: 0 0 8px; background: linear-gradient(90deg, #f59e0b, #ef4444); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.contest-header .subtitle { font-size: 16px; color: #6b7280; }
.contest-details { background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%); border-radius: 16px; padding: 20px; margin-bottom: 24px; border: 2px solid #fbbf24; box-shadow: 0 4px 12px rgba(251, 191, 36, 0.2); }
.contest-details h3 { font-size: 18px; font-weight: 700; color: #92400e; margin: 0 0 12px; }
.contest-details p { color: #78350f; margin: 8px 0; line-height: 1.6; }
.contest-widget .form-group { margin-bottom: 20px; position: relative; }
.contest-widget .form-group input, .contest-widget .form-group textarea { width: 100%; padding: 14px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 15px; font-family: inherit; transition: all 0.3s ease; box-sizing: border-box; background: white; }
.contest-widget .form-group input::placeholder, .contest-widget .form-group textarea::placeholder { color: #9ca3af; opacity: 1; }
.contest-widget .form-group input:focus, .contest-widget .form-group textarea:focus { outline: none; border-color: #f59e0b; box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1); }
.contest-widget .form-group textarea { min-height: 100px; resize: vertical; }
.contest-widget .word-count { text-align: right; font-size: 13px; color: #6b7280; margin-top: 4px; }
.contest-widget .btn-primary { width: 100%; background: linear-gradient(90deg, #f59e0b, #ef4444); color: white; border: none; border-radius: 12px; padding: 16px; font-size: 17px; font-weight: 700; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3); }
.contest-widget .btn-primary:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4); }
.contest-widget .btn-primary:disabled { opacity: 0.6; cursor: not-allowed; }
.contest-widget .success-message { text-align: center; padding: 40px 20px; }
.contest-widget .success-message .icon { font-size: 64px; color: #22c55e; margin-bottom: 16px; }
.contest-widget .success-message h3 { font-size: 24px; color: #111827; margin: 0 0 16px; }
.contest-widget .ticket-number { font-size: 32px; font-weight: 900; color: #f59e0b; font-family: monospace; margin: 16px 0; }
.contest-widget .success-message p { color: #6b7280; line-height: 1.6; }
.contest-widget .hidden { display: none !important; }
</style>

<div class="contest-widget">
<button class="fundraiser-float-btn" id="fundraiserBtn">
     <span class="icon">??</span>
  </button>
  
  <div class="contest-modal" id="contestModal">
      <div class="contest-content">
          <button class="contest-close" id="closeModal">&times;</button>
          <div id="step1">
              <div class="contest-header">
                  <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <div style="display: flex; align-items: center; justify-content: center; background: none; box-shadow: none; padding: 0; border: none;">
                      <span style="font-size: 34px; font-weight: 900; font-family: 'Montserrat', 'Arial Black', sans-serif; text-transform: uppercase; letter-spacing: 2px;">
                        <span style="background: linear-gradient(90deg, #22c55e, #f59e0b, #ef4444); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">FUNDRAISER</span>
                        <span style="color:#22223b;"> CONTEST</span>
                      </span>
                    </div>
                    <div style="height: 5px; width: 70px; background: linear-gradient(90deg, #22c55e, #f59e0b, #ef4444); border-radius: 3px; margin: 10px auto 0 auto;"></div>
                  </div>
              </div>
              
              <div class="contest-details">
                  <h3>?? How It Works:</h3>
                  
                  <!-- Steps Card Section with Stairs Design -->
<div style="display: flex; align-items: flex-start; justify-content: flex-start; gap: 0; margin: 24px 0 20px 0; position: relative; padding-left: 30px;">
  <!-- Step 1 -->
  <div style="position: relative; display: flex; align-items: center; gap: 16px;">
    <div style="display: flex; align-items: center; gap: 16px;">
      <div style="width: 160px; height: 160px; background: linear-gradient(135deg, #bbf7d0 0%, #86efac 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-direction: column; box-shadow: 0 8px 24px rgba(34, 197, 94, 0.25); border: 4px solid #22c55e; position: relative; z-index: 1;">
        <div style="font-size: 52px; margin-bottom: 4px;">???</div>
        <div style="font-size: 40px; font-weight: 900; color: #166534;">01</div>
      </div>
      <div style="background: #f0fdf4; padding: 16px 24px; border-radius: 16px; border-left: 5px solid #22c55e; box-shadow: 0 4px 12px rgba(34, 197, 94, 0.1); min-width: 200px;">
        <h4 style="margin: 0 0 8px; font-size: 20px; font-weight: 800; color: #166534; text-transform: uppercase; letter-spacing: 1px;">INNOVATION</h4>
        <p style="margin: 0; font-size: 14px; color: #15803d; line-height: 1.6;">Buy a ticket for ?200 and get ready to share your brilliant idea with us!</p>
      </div>
    </div>
  </div>
  
  <!-- Step 2 -->
  <div style="position: relative; display: flex; align-items: center; gap: 16px; margin-left: 40px; margin-top: 60px;">
    <div style="position: absolute; left: -40px; top: 50%; transform: translateY(-50%); width: 40px; height: 4px; background: linear-gradient(90deg, #22c55e 0%, #22c55e 100%);"></div>
    <div style="display: flex; align-items: center; gap: 16px;">
      <div style="width: 160px; height: 160px; background: linear-gradient(135deg, #bbf7d0 0%, #86efac 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-direction: column; box-shadow: 0 8px 24px rgba(34, 197, 94, 0.25); border: 4px solid #22c55e; position: relative; z-index: 2;">
        <div style="font-size: 52px; margin-bottom: 4px;">??</div>
        <div style="font-size: 40px; font-weight: 900; color: #166534;">02</div>
      </div>
      <div style="background: #f0fdf4; padding: 16px 24px; border-radius: 16px; border-left: 5px solid #22c55e; box-shadow: 0 4px 12px rgba(34, 197, 94, 0.1); min-width: 200px;">
        <h4 style="margin: 0 0 8px; font-size: 20px; font-weight: 800; color: #166534; text-transform: uppercase; letter-spacing: 1px;">SUSTAINABILITY</h4>
        <p style="margin: 0; font-size: 14px; color: #15803d; line-height: 1.6;">Submit your innovative idea that can create lasting impact and transform lives!</p>
      </div>
    </div>
  </div>
  
  <!-- Step 3 -->
  <div style="position: relative; display: flex; align-items: center; gap: 16px; margin-left: 40px; margin-top: 60px;">
    <div style="position: absolute; left: -40px; top: 50%; transform: translateY(-50%); width: 40px; height: 4px; background: linear-gradient(90deg, #22c55e 0%, #22c55e 100%);"></div>
    <div style="display: flex; align-items: center; gap: 16px;">
      <div style="width: 160px; height: 160px; background: linear-gradient(135deg, #bbf7d0 0%, #86efac 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-direction: column; box-shadow: 0 8px 24px rgba(34, 197, 94, 0.25); border: 4px solid #22c55e; position: relative; z-index: 3;">
        <div style="font-size: 52px; margin-bottom: 4px;">??</div>
        <div style="font-size: 40px; font-weight: 900; color: #166534;">03</div>
      </div>
      <div style="background: #f0fdf4; padding: 16px 24px; border-radius: 16px; border-left: 5px solid #22c55e; box-shadow: 0 4px 12px rgba(34, 197, 94, 0.1); min-width: 200px;">
        <h4 style="margin: 0 0 8px; font-size: 20px; font-weight: 800; color: #166534; text-transform: uppercase; letter-spacing: 1px;">CUSTOMER-CENTRICITY</h4>
        <p style="margin: 0; font-size: 14px; color: #15803d; line-height: 1.6;">Win amazing prizes like Scooty, Smart TV, or Mobile by sharing the best idea!</p>
      </div>
    </div>
  </div>
</div>
                  
                  <!-- Prize Cards -->
                  <div style="margin-top: 20px;">
                      <p style="margin: 0 0 16px; font-weight: 700; color: #0f172a; font-size: 18px; text-align: center;">?? Amazing Prizes Await!</p>
                      <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                          <!-- 1st Prize -->
                          <div style="position: relative; background: linear-gradient(135deg, #fff9e6 0%, #ffe8a3 100%); border-radius: 16px; padding: 20px 12px; border: 3px solid #f59e0b; box-shadow: 0 8px 20px rgba(245, 158, 11, 0.4); display: flex; flex-direction: column; align-items: center; justify-content: flex-start;">
                              <span style="position: absolute; top: 4px; right: 4px; font-size: 22px; font-weight: 700; color: #fbbf24; z-index: 2; display: flex; align-items: center; background: none; box-shadow: none; border-radius: 0; padding: 0;">??</span>
                              <div style="font-size: 60px; margin-bottom: 12px; margin-top: 18px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));">??</div>
                              <p style="margin: 0; font-weight: 700; color: #92400e; font-size: 16px;">Scooty</p>
                          </div>
                          <!-- 2nd Prize -->
                          <div style="position: relative; background: linear-gradient(135deg, #eff6ff 0%, #bfdbfe 100%); border-radius: 16px; padding: 20px 12px; border: 3px solid #3b82f6; box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4); display: flex; flex-direction: column; align-items: center; justify-content: flex-start;">
                              <span style="position: absolute; top: 4px; right: 4px; font-size: 22px; font-weight: 700; color: #3b82f6; z-index: 2; display: flex; align-items: center; background: none; box-shadow: none; border-radius: 0; padding: 0;">??</span>
                              <div style="font-size: 60px; margin-bottom: 12px; margin-top: 18px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));">??</div>
                              <p style="margin: 0; font-weight: 700; color: #1e3a8a; font-size: 16px;">Smart TV</p>
                          </div>
                          <!-- 3rd Prize -->
                          <div style="position: relative; background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%); border-radius: 16px; padding: 20px 12px; border: 3px solid #ef4444; box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4); display: flex; flex-direction: column; align-items: center; justify-content: flex-start;">
                              <span style="position: absolute; top: 4px; right: 4px; font-size: 22px; font-weight: 700; color: #ef4444; z-index: 2; display: flex; align-items: center; background: none; box-shadow: none; border-radius: 0; padding: 0;">??</span>
                              <div style="font-size: 60px; margin-bottom: 12px; margin-top: 18px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));">??</div>
                              <p style="margin: 0; font-weight: 700; color: #991b1b; font-size: 16px;">Smart Mobile</p>
                          </div>
                      </div>
                  </div>
                  
                  <p style="margin-top: 16px; text-align: center; font-size: 14px; color: #65a30d;"><strong>Impact:</strong> Your contribution helps to get livelihood.</p>
                  <div style="text-align:center; margin-top:18px;">
      <button id="showTicketFormBtn" style="background: linear-gradient(90deg, #22c55e, #f59e0b, #ef4444); color: white; border: none; border-radius: 18px; padding: 18px 38px; font-size: 20px; font-weight: 900; cursor: pointer; transition: all 0.3s; box-shadow: 0 8px 24px rgba(239, 68, 68, 0.18); margin-top: 10px; letter-spacing:1px;">??? Buy Ticket</button>
    </div>
    <form id="ticketForm" style="display:none; background: linear-gradient(135deg, #fff7ed 0%, #fef3c7 100%); padding: 38px 32px 32px 32px; border-radius: 28px; border: 2px solid #fbbf24; box-shadow: 0 16px 40px rgba(245, 158, 11, 0.18); margin-top: 36px; max-width: 420px; margin-left:auto; margin-right:auto;">
      <div style="text-align:center; margin-bottom:22px;">
        <div style="width:54px; height:54px; background:linear-gradient(135deg,#f59e0b 0%,#22c55e 100%); border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 10px; box-shadow:0 4px 16px rgba(34,197,94,0.12);">
          <span style="font-size:32px; color:#fff;">???</span>
        </div>
        <h3 style="font-size: 24px; font-weight: 900; color: #ef4444; margin-bottom: 6px; letter-spacing: 1px;">Contest Entry Form</h3>
        <div style="font-size: 15px; color: #92400e; font-weight: 600; margin-bottom: 8px;">Share your details to participate and win!</div>
      </div>
      <div class="form-group floating-label" style="margin-bottom: 32px; position: relative;">
        <span style="position:absolute; left:18px; top:18px; font-size:20px; color:#22c55e; z-index:2;">??</span>
        <input type="text" id="userName" required placeholder=" " style="width: 100%; padding: 18px 18px 18px 48px; background: #fff; border: 2px solid #fbbf24; border-radius: 14px; font-size: 17px; color: #92400e; font-family: inherit; transition: all 0.3s ease; box-sizing: border-box;">
        <label for="userName" style="position: absolute; left: 48px; top: 18px; color: #b45309; font-size: 15px; pointer-events: none; transition: 0.2s; background: transparent;">Name</label>
      </div>
      <div class="form-group floating-label" style="margin-bottom: 32px; position: relative;">
        <span style="position:absolute; left:18px; top:18px; font-size:20px; color:#3b82f6; z-index:2;">??</span>
        <input type="email" id="userEmail" required placeholder=" " style="width: 100%; padding: 18px 18px 18px 48px; background: #fff; border: 2px solid #fbbf24; border-radius: 14px; font-size: 17px; color: #92400e; font-family: inherit; transition: all 0.3s ease; box-sizing: border-box;">
        <label for="userEmail" style="position: absolute; left: 48px; top: 18px; color: #b45309; font-size: 15px; pointer-events: none; transition: 0.2s; background: transparent;">Email</label>
      </div>
      <div class="form-group floating-label" style="margin-bottom: 32px; position: relative;">
        <span style="position:absolute; left:18px; top:18px; font-size:20px; color:#f59e0b; z-index:2;">??</span>
        <input type="tel" id="userMobile" required pattern="[0-9]{10}" placeholder=" " style="width: 100%; padding: 18px 18px 18px 48px; background: #fff; border: 2px solid #fbbf24; border-radius: 14px; font-size: 17px; color: #92400e; font-family: inherit; transition: all 0.3s ease; box-sizing: border-box;">
        <label for="userMobile" style="position: absolute; left: 48px; top: 18px; color: #b45309; font-size: 15px; pointer-events: none; transition: 0.2s; background: transparent;">Mobile</label>
      </div>
      <button type="submit" class="btn-primary" style="width: 100%; background: linear-gradient(90deg, #22c55e, #f59e0b, #ef4444); color: white; border: none; border-radius: 18px; padding: 22px; font-size: 22px; font-weight: 900; cursor: pointer; transition: all 0.3s; box-shadow: 0 8px 24px rgba(239, 68, 68, 0.18); margin-top: 10px; letter-spacing:1px;">??? Buy Ticket ?200 & Participate</button>
      <div id="formMessage" style="display:none; text-align:center; margin-top:18px; font-size:15px; font-weight:600;"></div>
              </form>
              <style>
              .floating-label input:focus + label,
              .floating-label input:not(:placeholder-shown) + label,
              .floating-label input:valid + label {
                top: -14px !important;
                left: 42px !important;
                font-size: 13px !important;
                color: #ef4444 !important;
                background: #fff !important;
                padding: 0 4px;
                border-radius: 6px;
                font-weight: 700;
              }
              .floating-label label {
                pointer-events: none;
                position: absolute;
                left: 48px;
                top: 18px;
                font-size: 15px;
                color: #b45309;
                transition: 0.2s;
                background: transparent;
              }
              #ticketForm input::placeholder { color: transparent; }
              #ticketForm input:focus { outline: none; border-color: #22c55e; background: #fffde6; box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.12); }
              #ticketForm input:-webkit-autofill { -webkit-box-shadow: 0 0 0 30px #fffbe6 inset !important; -webkit-text-fill-color: #92400e !important; }
              #formMessage.success { color: #22c55e; }
              #formMessage.error { color: #ef4444; }
              </style>
              <style>
              .floating-label input:focus + label,
              .floating-label input:not(:placeholder-shown) + label,
              .floating-label input:valid + label {
                top: -12px !important;
                left: 42px !important;
                font-size: 13px !important;
                color: #ef4444 !important;
                background: #fffde6 !important;
                padding: 0 4px;
                border-radius: 6px;
                font-weight: 700;
              }
              .floating-label label {
                pointer-events: none;
                position: absolute;
                left: 48px;
                top: 18px;
                font-size: 15px;
                color: #b45309;
                transition: 0.2s;
                background: transparent;
              }
              #ticketForm input::placeholder { color: transparent; }
              #ticketForm input:focus { outline: none; border-color: #ef4444; background: #fffde6; box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.12); }
              #ticketForm input:-webkit-autofill { -webkit-box-shadow: 0 0 0 30px #fffde6 inset !important; -webkit-text-fill-color: #92400e !important; }
              </style>
              <style>
              .floating-label input:focus + label,
              .floating-label input:not(:placeholder-shown) + label,
              .floating-label input:valid + label {
                top: -10px !important;
                left: 38px !important;
                font-size: 12px !important;
                color: #f59e0b !important;
                background: #1f2937 !important;
                padding: 0 4px;
                border-radius: 6px;
              }
              .floating-label label {
                pointer-events: none;
                position: absolute;
                left: 44px;
                top: 16px;
                font-size: 15px;
                color: #9ca3af;
                transition: 0.2s;
                background: transparent;
              }
              #ticketForm input::placeholder { color: transparent; }
              #ticketForm input:focus { outline: none; border-color: #f59e0b; background: #4b5563; box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2); }
              #ticketForm input:-webkit-autofill { -webkit-box-shadow: 0 0 0 30px #374151 inset !important; -webkit-text-fill-color: #f9fafb !important; }
              </style>
          </div>
          <div id="step2" class="hidden">
              <div class="contest-header">
                  <h2>?? Submit Your Idea</h2>
                  <p class="subtitle">Payment successful! Now share your idea.</p>
              </div>
              <form id="ideaForm">
                  <div class="form-group">
                      <textarea id="ideaPitch" required placeholder="Your Business Idea (Max 50 words) *"></textarea>
                      <div class="word-count"><span id="wordCount">0</span> / 50 words</div>
                  </div>
                  <button type="submit" class="btn-primary">?? Submit Idea</button>
              </form>
          </div>
          <div id="step3" class="hidden">
              <div class="success-message">
                  <div class="icon">?</div>
                  <h3>Thank You! ???? Idea Submit ?? ???!</h3>
                  <p><strong>Your Ticket Number:</strong></p>
                  <div class="ticket-number" id="displayTicket"></div>
                  <p style="margin-top: 20px;">
                      ?? Confirmation email ???? ?? ???? ???<br>
                      ?? Winners ?? ????? ???? ?? ?? ??????<br>
                      ?? ???? ?????? ?? ??? ???????!
                  </p>
              </div>
          </div>
      </div>
  </div>
  
  <script>
  (function() {
      const modal = document.getElementById('contestModal');
      const openBtn = document.getElementById('fundraiserBtn');
      const closeBtn = document.getElementById('closeModal');
      const step1 = document.getElementById('step1');
      const step2 = document.getElementById('step2');
      const step3 = document.getElementById('step3');
      const ticketForm = document.getElementById('ticketForm');
      const ideaForm = document.getElementById('ideaForm');
      const ideaPitch = document.getElementById('ideaPitch');
      const wordCountEl = document.getElementById('wordCount');
      let ticketNumber = '';
      let userInfo = {};
      openBtn.addEventListener('click', () => {
          modal.classList.add('active');
          showStep(1);
      });
      closeBtn.addEventListener('click', () => {
          modal.classList.remove('active');
      });
      modal.addEventListener('click', (e) => {
          if (e.target === modal) {
              modal.classList.remove('active');
          }
      });
      function showStep(stepNum) {
          step1.classList.add('hidden');
          step2.classList.add('hidden');
          step3.classList.add('hidden');
          if (stepNum === 1) step1.classList.remove('hidden');
          else if (stepNum === 2) step2.classList.remove('hidden');
          else if (stepNum === 3) step3.classList.remove('hidden');
      }
      ideaPitch.addEventListener('input', () => {
          const words = ideaPitch.value.trim().split(/\s+/).filter(w => w.length > 0);
          const count = words.length;
          wordCountEl.textContent = count;
          if (count > 50) {
              wordCountEl.style.color = '#ef4444';
          } else {
              wordCountEl.style.color = '#6b7280';
          }
      });
      ticketForm.addEventListener('submit', async (e) => {
          e.preventDefault();
          userInfo = {
              name: document.getElementById('userName').value,
              email: document.getElementById('userEmail').value,
              mobile: document.getElementById('userMobile').value
          };
          const paymentSuccess = await simulatePayment(userInfo);
          if (paymentSuccess) {
              ticketNumber = 'FWF-IDEA-' + Date.now().toString().slice(-8);
              await saveTicket(ticketNumber, userInfo);
              showStep(2);
          }
      });
      ideaForm.addEventListener('submit', async (e) => {
          e.preventDefault();
          const words = ideaPitch.value.trim().split(/\s+/).filter(w => w.length > 0);
          if (words.length > 50) {
              alert('????? ???? ?????? 50 ?????? ??? ????? ????? / Please limit your idea to 50 words.');
              return;
          }
          if (words.length < 10) {
              alert('????? ?? ?? ?? 10 ???? ?????? / Please write at least 10 words.');
              return;
          }
          await saveIdea(ticketNumber, ideaPitch.value);
          await sendConfirmationEmail(userInfo, ticketNumber);
          document.getElementById('displayTicket').textContent = ticketNumber;
          showStep(3);
      });
      async function simulatePayment(userInfo) {
          return new Promise((resolve) => {
              setTimeout(() => {
                  alert('Payment of ?200 successful! (This is a simulation)');
                  resolve(true);
              }, 1000);
          });
      }
      async function saveTicket(ticket, user) {
          try {
              const response = await fetch('/api/contest/ticket', {
                  method: 'POST',
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify({ ticketNumber: ticket, ...user })
              });
              return await response.json();
          } catch (err) {
              console.error('Error saving ticket:', err);
          }
      }
      async function saveIdea(ticket, idea) {
          try {
              const response = await fetch('/api/contest/idea', {
                  method: 'POST',
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify({ ticketNumber: ticket, idea })
              });
              return await response.json();
          } catch (err) {
              console.error('Error saving idea:', err);
          }
      }
      async function sendConfirmationEmail(user, ticket) {
          try {
              const response = await fetch('/api/contest/send-email', {
                  method: 'POST',
                  headers: { 'Content-Type': 'application/json' },
                  body: JSON.stringify({ ...user, ticketNumber: ticket })
              });
              return await response.json();
          } catch (err) {
              console.error('Error sending email:', err);
          }
      }
      // Show Contest Entry Form on Buy Ticket button click
      const showTicketFormBtn = document.getElementById('showTicketFormBtn');
      if(showTicketFormBtn && ticketForm){
        showTicketFormBtn.addEventListener('click', function(){
          ticketForm.style.display = 'block';
          showTicketFormBtn.style.display = 'none';
          ticketForm.scrollIntoView({behavior: 'smooth'});
        });
      }
  })();
  </script>
</div>


  <!-- Contest Widget -->
  <link rel="stylesheet" href="css/contest-widget.css">
  <div id="contestWidgetContainer"></div>
  <script>
    fetch('widgets/contest-widget.html').then(r => r.text()).then(html => { document.getElementById('contestWidgetContainer').innerHTML = html; const s = document.createElement('script'); s.src = 'js/contest-widget.js'; document.body.appendChild(s); });
  </script>

  <link rel="stylesheet" href="css/contest-widget.css">
  <div id="contestWidgetContainer"></div>
  <script>fetch('widgets/contest-widget.html').then(r=>r.text()).then(html=>{document.getElementById('contestWidgetContainer').innerHTML=html;const s=document.createElement('script');s.src='js/contest-widget.js';document.body.appendChild(s);});</script>
</body>
</html>
